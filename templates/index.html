{% extends 'base.html' %}

{% block head %}

{% endblock %}



{% block body %}

    <div class="content">
        <h1>Never Forget</h1>
        <table width="100%">
{#            The <tr> tag defines a row in an HTML table.#}
            <tr>

                <th>Content</th>
                <th>Created</th>
                <th>Actions</th>

            </tr>
{#        The language here is called jinja btw#}
            {% for task in tasks %}
                <tr>
                    <td style="border: 3px solid green;">{{ task.content }}</td>
                    <td>{{ task.time_created }}</td>
                    <td>
                        <a href="/cmTask/{{ task.id }}">Complete</a> <br>
{#                        <a href="/rmTask/{{ task.id }}">Remove</a><br>#}
                        <a href="/editTask/{{ task.id }}">Edit</a><br>
                    </td>
                </tr>
            {% endfor %}

        </table>
        <form action="javascript:submit()">
                <input type="text" name="content" placeholder="new task" id="content">
                <input type="submit" class="submitbtn" value="Add Task">
        </form>
    </div>
    <script lang="javascript">
        {#    var declarations are globally scoped or function scoped while let and const are block scoped.
        var variables can be updated and re-declared within its scope; let variables can be updated but not
        re-declared; const variables can neither be updated nor re-declared.#}
        function submit() {
            const cont = document.getElementById('content').value;
            if(cont === '') {
                alert("You must add some content")
            } else {
                const xhr = new XMLHttpRequest();
                xhr.open("POST", '/addTask/' + cont, false);
                xhr.send();
                location.reload();
            }
        }
    </script>

{% endblock %}


